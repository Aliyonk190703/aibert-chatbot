<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-BERT Sentiment Analyzer - Chatbot Mahasiswa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .chat-bubble {
            animation: slideInUp 0.4s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .typing-dots {
            display: inline-block;
            position: relative;
            width: 60px;
            height: 20px;
        }
        
        .typing-dots div {
            position: absolute;
            top: 8px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #6366f1;
            animation: typing 1.4s infinite ease-in-out both;
        }
        
        .typing-dots div:nth-child(1) { left: 8px; animation-delay: -0.32s; }
        .typing-dots div:nth-child(2) { left: 24px; animation-delay: -0.16s; }
        .typing-dots div:nth-child(3) { left: 40px; animation-delay: 0s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        
        .sentiment-card {
            transition: all 0.3s ease;
            transform: scale(0.95);
            animation: scaleIn 0.5s ease-out forwards;
        }
        
        @keyframes scaleIn {
            to { transform: scale(1); }
        }
        
        .floating-icon {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(2.4); opacity: 0; }
        }
        
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
        }
        
        .hover-lift {
            transition: transform 0.2s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Header dengan efek glass -->
    <div class="glass-effect text-white p-6 shadow-2xl">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center floating-icon">
                            <i class="fas fa-robot text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-1 -right-1 w-6 h-6 bg-green-400 rounded-full pulse-ring"></div>
                        <div class="absolute -top-1 -right-1 w-6 h-6 bg-green-400 rounded-full"></div>
                    </div>
                    <div>
                        <h1 class="text-4xl font-bold mb-1">AI-BERT Sentiment Analyzer</h1>
                        <p class="text-blue-100 text-lg">🎓 Analisis Sentimen Mahasiswa dengan Kecerdasan Buatan</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold" id="headerTotal">0</div>
                        <div class="text-sm text-blue-100">Total Analisis</div>
                    </div>
                    <div class="w-px h-12 bg-white bg-opacity-30"></div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-300">91.3%</div>
                        <div class="text-sm text-blue-100">Akurasi</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto p-6">
        <!-- Quick Info Cards -->
        <div class="grid md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white bg-opacity-90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover-lift">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                        <i class="fas fa-comments text-blue-600 text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-800">Input Mudah</h3>
                        <p class="text-sm text-gray-600">Ketik opini Anda</p>
                    </div>
                </div>
            </div>
            <div class="bg-white bg-opacity-90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover-lift">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                        <i class="fas fa-brain text-purple-600 text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-800">AI Analysis</h3>
                        <p class="text-sm text-gray-600">Powered by BERT</p>
                    </div>
                </div>
            </div>
            <div class="bg-white bg-opacity-90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover-lift">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                        <i class="fas fa-chart-line text-green-600 text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-800">Real-time</h3>
                        <p class="text-sm text-gray-600">Hasil instan</p>
                    </div>
                </div>
            </div>
            <div class="bg-white bg-opacity-90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover-lift">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center">
                        <i class="fas fa-lightbulb text-orange-600 text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-800">Smart Tips</h3>
                        <p class="text-sm text-gray-600">Saran otomatis</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Chat Container -->
            <div class="lg:col-span-2">
                <div class="bg-white bg-opacity-95 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden">
                    <!-- Chat Header -->
                    <div class="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center">
                                    <i class="fas fa-robot text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-semibold">AI Assistant</h3>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                        <span class="text-sm text-blue-100">Online & Ready</span>
                                    </div>
                                </div>
                            </div>
                            <button onclick="clearHistory()" class="bg-white bg-opacity-20 hover:bg-opacity-30 rounded-xl p-3 transition-all duration-200">
                                <i class="fas fa-trash text-lg"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Chat Messages -->
                    <div id="chatMessages" class="h-96 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-gray-50 to-white custom-scrollbar">
                        <!-- Welcome Message -->
                        <div class="chat-bubble flex items-start space-x-4">
                            <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="bg-white rounded-2xl rounded-tl-md p-5 shadow-lg max-w-md border border-gray-100">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="font-semibold text-gray-800">AI-BERT Assistant</span>
                                    <i class="fas fa-check-circle text-blue-500 text-sm"></i>
                                </div>
                                <p class="text-gray-700 leading-relaxed">Halo! 👋 Saya siap membantu menganalisis sentimen opini Anda tentang layanan akademik. Silakan ketik pendapat Anda dan saya akan memberikan analisis mendalam!</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium">Akurat</span>
                                    <span class="px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium">Cepat</span>
                                    <span class="px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-xs font-medium">AI-Powered</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div class="p-6 bg-white border-t border-gray-100">
                        <div class="flex space-x-4">
                            <div class="flex-1 relative">
                                <input 
                                    type="text" 
                                    id="messageInput" 
                                    placeholder="💭 Bagikan opini Anda tentang layanan akademik..."
                                    class="w-full border-2 border-gray-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200 text-gray-700 placeholder-gray-400"
                                    onkeypress="handleKeyPress(event)"
                                >
                                <div class="absolute right-4 top-1/2 transform -translate-y-1/2">
                                    <i class="fas fa-paper-plane text-gray-400"></i>
                                </div>
                            </div>
                            <button 
                                onclick="sendMessage()"
                                class="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-2xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"
                            >
                                <i class="fas fa-paper-plane mr-2"></i>
                                Kirim
                            </button>
                        </div>
                        <div class="mt-3 flex items-center justify-between">
                            <p class="text-sm text-gray-500">
                                <i class="fas fa-lightbulb text-yellow-500 mr-1"></i>
                                Contoh: "Dosen sangat membantu" atau "Sistem sulit digunakan"
                            </p>
                            <div class="flex items-center space-x-4">
                                <button 
                                    onclick="clearHistory()" 
                                    class="flex items-center space-x-2 text-sm text-red-500 hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg transition-all duration-200"
                                    title="Hapus semua riwayat chat dan reset statistik"
                                >
                                    <i class="fas fa-trash"></i>
                                    <span>Hapus History</span>
                                </button>
                                <div class="flex items-center space-x-2 text-sm text-gray-400">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>Aman & Privat</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Panel -->
            <div class="space-y-6">
                <!-- Live Stats -->
                <div class="bg-white bg-opacity-95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold gradient-text">📊 Statistik Live</h3>
                        <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-chart-bar text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Total Analisis</p>
                                    <p class="text-2xl font-bold text-gray-800" id="totalAnalysis">0</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-smile text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Positif</p>
                                    <p class="text-2xl font-bold text-green-600" id="positiveCount">0</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-2xl">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-red-500 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-frown text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Negatif</p>
                                    <p class="text-2xl font-bold text-red-600" id="negativeCount">0</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-yellow-500 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-meh text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Netral</p>
                                    <p class="text-2xl font-bold text-yellow-600" id="neutralCount">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Model Info -->
                <div class="bg-white bg-opacity-95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl">
                    <h3 class="text-xl font-bold gradient-text mb-4">🤖 Model Info</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">Model</span>
                            <span class="font-semibold text-gray-800">AI-BERT</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">Akurasi</span>
                            <span class="font-semibold text-green-600">91.3%</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">Bahasa</span>
                            <span class="font-semibold text-gray-800">Indonesia</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">Status</span>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                <span class="font-semibold text-green-600">Online</span>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>

    <script>
        let analysisCount = 0;
        let positiveCount = 0;
        let negativeCount = 0;
        let neutralCount = 0;

        function quickExample(text) {
            document.getElementById('messageInput').value = text;
            sendMessage();
        }

        // Simulasi model AI-BERT untuk analisis sentimen
        function analyzeSentiment(text) {
            // Frasa netral (mixed sentiment) - dicek terlebih dahulu
            const neutralPhrases = [
                'memuaskan, namun', 'puas, tetapi', 'bagus, cuma', 'baik, walaupun', 
                'saya memaklumi, namun', 'saya paham, tapi', 'walaupun ada kekurangan',
                'meski ada kekurangan', 'meskipun begitu', 'masih ada yang perlu diperbaiki',
                'bisa lebih baik lagi'
            ];

            // Kata-kata positif dalam bahasa Indonesia
            const positiveWords = [
                'bagus', 'baik', 'hebat', 'luar biasa', 'membantu', 'mudah', 'jelas', 'menyenangkan', 'suka', 'senang', 'puas', 'mantap', 'keren', 'oke', 'terima kasih', 'thanks', 'good', 'great', 'excellent', 'amazing', 'wonderful', 'fantastic', 'perfect', 'love', 'like', 'happy', 'satisfied',
                'cepat', 'gesit', 'sigap', 'tepat waktu', 'on time', 'responsif', 'tanggap', 'tepat sasaran', 'cepat tanggap',
                'ramah', 'sopan', 'membantu', 'friendly', 'baik hati', 'pengertian', 'perhatian', 'sabar', 'kooperatif',
                'jelas', 'mudah dipahami', 'transparan', 'terstruktur', 'detail', 'informatif', 'gampang diikuti', 'lugas', 'akurat',
                'memuaskan', 'mantap', 'luar biasa', 'keren', 'profesional', 'hebat', 'bagus', 'top', 'terbaik',
                'lancar', 'stabil', 'mudah diakses', 'user friendly', 'ringan', 'cepat loading', 'praktis', 'update', 'aman'
            ];
            
            // Kata-kata negatif dalam bahasa Indonesia
            const negativeWords = [
                'buruk', 'jelek', 'sulit', 'susah', 'bingung', 'tidak', 'bukan', 'kurang', 'lemah', 'lambat', 'mahal', 'kecewa', 'sedih', 'marah', 'kesal', 'bad', 'terrible', 'awful', 'horrible', 'hate', 'dislike', 'angry', 'sad', 'disappointed', 'frustrated', 'difficult', 'hard', 'confusing',
                'ngaret', 'lambat', 'lemot', 'molor', 'lelet', 'lama banget', 'tidak tepat waktu', 'telat', 'delay',
                'tidak ramah', 'judes', 'galak', 'cuek', 'tidak membantu', 'jutek', 'nyebelin', 'sombong', 'kasar',
                'ribet', 'berbelit-belit', 'tidak jelas', 'membingungkan', 'muter-muter', 'sulit dipahami', 'tidak transparan', 'simpang siur',
                'mengecewakan', 'buruk', 'parah', 'tidak profesional', 'amburadul', 'tidak layak', 'jelek', 'kacau', 'gagal',
                'error', 'sering down', 'tidak bisa diakses', 'loading lama', 'bug', 'crash', 'macet', 'lemot sistem', 'gangguan',
                'belum puas', 'tidak puas', 'kurang puas', 'kurang memuaskan', 'mengecewakan', 'tidak memuaskan',
                'kualitas layanan kurang', 'kualitas layanan buruk', 'kualitas layanan rendah', 'kualitas layanan tidak baik',
                'seharusnya lebih baik', 'harusnya lebih baik', 'perlu ditingkatkan', 'masih banyak kekurangan', 'masih perlu diperbaiki',
                'belum sesuai harapan', 'tidak sesuai harapan', 'jauh dari harapan', 'masih belum maksimal', 'masih belum optimal',
                'pelayanan tidak ramah', 'pelayanan buruk', 'pelayanan lambat', 'sistem sering error', 'sistem sering down'
            ];

            const lowerText = text.toLowerCase();
            
            // Cek frasa netral terlebih dahulu (mixed sentiment)
            for (let phrase of neutralPhrases) {
                if (lowerText.includes(phrase.toLowerCase())) {
                    return {
                        sentiment: 'Netral',
                        confidence: 0.88 + Math.random() * 0.08,
                        color: 'from-yellow-400 to-orange-500',
                        emoji: '😐',
                        bgColor: 'from-yellow-50 to-orange-50',
                        textColor: 'text-yellow-800',
                        icon: 'fas fa-meh'
                    };
                }
            }

            let positiveScore = 0;
            let negativeScore = 0;

            // Hitung skor berdasarkan kata-kata yang ditemukan
            positiveWords.forEach(word => {
                if (lowerText.includes(word)) {
                    positiveScore += 1;
                }
            });

            negativeWords.forEach(word => {
                if (lowerText.includes(word)) {
                    negativeScore += 1;
                }
            });

            // Tentukan sentimen berdasarkan skor
            if (positiveScore > negativeScore) {
                return {
                    sentiment: 'Positif',
                    confidence: Math.min(0.85 + (positiveScore * 0.05), 0.98),
                    color: 'from-green-400 to-emerald-500',
                    emoji: '😊',
                    bgColor: 'from-green-50 to-emerald-50',
                    textColor: 'text-green-800',
                    icon: 'fas fa-smile'
                };
            } else if (negativeScore > positiveScore) {
                return {
                    sentiment: 'Negatif',
                    confidence: Math.min(0.82 + (negativeScore * 0.05), 0.96),
                    color: 'from-red-400 to-pink-500',
                    emoji: '😞',
                    bgColor: 'from-red-50 to-pink-50',
                    textColor: 'text-red-800',
                    icon: 'fas fa-frown'
                };
            } else {
                return {
                    sentiment: 'Netral',
                    confidence: 0.75 + Math.random() * 0.15,
                    color: 'from-yellow-400 to-orange-500',
                    emoji: '😐',
                    bgColor: 'from-yellow-50 to-orange-50',
                    textColor: 'text-yellow-800',
                    icon: 'fas fa-meh'
                };
            }
        }

        function getSuggestion(sentiment) {
            const suggestions = {
                'Positif': [
                    "Senang mendengar Anda puas dengan layanan kami. Bagikan pengalaman ini kepada teman-teman!",
                    "Terima kasih atas apresiasi positif Anda. Testimoni ini akan memotivasi peningkatan layanan akademik.",
                    "Feedback positif Anda sangat berharga untuk evaluasi kinerja layanan kampus."
                ],
                'Negatif': [
                    "Kami akan menindaklanjuti keluhan ini untuk perbaikan layanan ke depannya.",
                    "Terima kasih atas kritik konstruktif Anda. Tim akademik akan mengevaluasi dan memperbaiki sistem.",
                    "Masukan Anda akan kami sampaikan kepada pihak terkait untuk perbaikan layanan akademik."
                ],
                'Netral': [
                    "Terima kasih atas masukan objektif Anda untuk evaluasi layanan kampus.",
                    "Pendapat seimbang Anda akan menjadi bahan pertimbangan dalam pengembangan layanan akademik.",
                    "Kami menghargai feedback netral Anda sebagai bagian dari evaluasi menyeluruh layanan kampus."
                ]
            };

            const sentimentSuggestions = suggestions[sentiment];
            return sentimentSuggestions[Math.floor(Math.random() * sentimentSuggestions.length)];
        }

        function addMessage(content, isUser = false) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-bubble flex items-start space-x-4';

            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="w-10 h-10 bg-gradient-to-r from-gray-500 to-gray-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl rounded-tl-md p-5 shadow-lg max-w-md">
                        <p class="leading-relaxed">${content}</p>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = content;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'chat-bubble flex items-start space-x-4';
            typingDiv.innerHTML = `
                <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="bg-white rounded-2xl rounded-tl-md p-5 shadow-lg">
                    <div class="flex items-center space-x-2">
                        <span class="text-gray-600 text-sm">AI sedang menganalisis</span>
                        <div class="typing-dots">
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (message === '') return;

            // Tambahkan pesan user
            addMessage(message, true);
            input.value = '';

            // Tampilkan indikator typing
            showTypingIndicator();

            // Simulasi delay processing AI-BERT
            setTimeout(() => {
                removeTypingIndicator();

                // Analisis sentimen
                const analysis = analyzeSentiment(message);
                const suggestion = getSuggestion(analysis.sentiment);

                // Update statistik
                analysisCount++;
                if (analysis.sentiment === 'Positif') {
                    positiveCount++;
                } else if (analysis.sentiment === 'Negatif') {
                    negativeCount++;
                } else if (analysis.sentiment === 'Netral') {
                    neutralCount++;
                }

                document.getElementById('totalAnalysis').textContent = analysisCount;
                document.getElementById('positiveCount').textContent = positiveCount;
                document.getElementById('negativeCount').textContent = negativeCount;
                document.getElementById('neutralCount').textContent = neutralCount;
                document.getElementById('headerTotal').textContent = analysisCount;

                // Tambahkan hasil analisis
                const analysisContent = `
                    <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="bg-white rounded-2xl rounded-tl-md p-6 shadow-lg max-w-lg border border-gray-100 sentiment-card">
                        <div class="mb-5">
                            <div class="flex items-center space-x-2 mb-3">
                                <i class="fas fa-chart-line text-indigo-600"></i>
                                <h4 class="font-bold text-gray-800">Hasil Analisis AI-BERT</h4>
                            </div>
                            
                            <div class="flex items-center space-x-4 mb-4">
                                <div class="flex items-center space-x-3 px-4 py-3 bg-gradient-to-r ${analysis.bgColor} rounded-2xl">
                                    <i class="${analysis.icon} text-xl ${analysis.textColor}"></i>
                                    <div>
                                        <div class="font-bold ${analysis.textColor}">${analysis.sentiment}</div>
                                        <div class="text-sm ${analysis.textColor} opacity-75">${(analysis.confidence * 100).toFixed(1)}% yakin</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm text-gray-600">Confidence Score</span>
                                    <span class="text-sm font-semibold text-gray-800">${(analysis.confidence * 100).toFixed(1)}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                    <div class="bg-gradient-to-r ${analysis.color} h-3 rounded-full transition-all duration-1000 shadow-sm" style="width: ${analysis.confidence * 100}%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border-t border-gray-100 pt-4">
                            <div class="flex items-center space-x-2 mb-3">
                                <i class="fas fa-lightbulb text-yellow-500"></i>
                                <h5 class="font-semibold text-gray-800">Saran AI</h5>
                            </div>
                            <p class="text-gray-700 leading-relaxed">${suggestion}</p>
                        </div>
                    </div>
                `;

                addMessage(analysisContent);
            }, 2000);
        }

        function clearHistory() {
            // Reset semua counter
            analysisCount = 0;
            positiveCount = 0;
            negativeCount = 0;
            neutralCount = 0;

            // Update tampilan counter
            document.getElementById('totalAnalysis').textContent = '0';
            document.getElementById('positiveCount').textContent = '0';
            document.getElementById('negativeCount').textContent = '0';
            document.getElementById('neutralCount').textContent = '0';
            document.getElementById('headerTotal').textContent = '0';

            // Hapus semua pesan chat kecuali welcome message
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = `
                <div class="chat-bubble flex items-start space-x-4">
                    <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="bg-white rounded-2xl rounded-tl-md p-5 shadow-lg max-w-md border border-gray-100">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="font-semibold text-gray-800">AI-BERT Assistant</span>
                            <i class="fas fa-check-circle text-blue-500 text-sm"></i>
                        </div>
                        <p class="text-gray-700 leading-relaxed">Halo! 👋 Saya siap membantu menganalisis sentimen opini Anda tentang layanan akademik. Silakan ketik pendapat Anda dan saya akan memberikan analisis mendalam!</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium">Akurat</span>
                            <span class="px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium">Cepat</span>
                            <span class="px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-xs font-medium">AI-Powered</span>
                        </div>
                    </div>
                </div>
            `;

            // Focus kembali ke input
            document.getElementById('messageInput').focus();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Auto-focus pada input saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('messageInput').focus();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a51a02a3e2fda0',t:'MTc1NDM4NDQwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
